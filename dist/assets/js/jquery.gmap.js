/**
 * jQuery gMap - Google Maps API V3
 *
 * @license MIT License; http://www.opensource.org/licenses/mit-license.php
 * @url   http://github.com/marioestrada/jQuery-gMap
 * @author  Mario Estrada <me@mario.ec> based on original plugin by Cedric Kastner <cedric@nur-text.de>
 * @version 2.2
 */
/* global google */
!function(e){e.fn.gMap=function(o,a){switch(o){case"addMarker":return e(this).trigger("gMap.addMarker",[a.latitude,a.longitude,a.content,a.icon,a.popup]);case"centerAt":return e(this).trigger("gMap.centerAt",[a.latitude,a.longitude,a.zoom]);case"clearMarkers":return e(this).trigger("gMap.clearMarkers")}var n=e.extend({},e.fn.gMap.defaults,o);return this.each(function(){var o=new google.maps.Map(this);e(this).data("gMap.reference",o);var a=new google.maps.Geocoder;n.address?a.geocode({address:n.address},function(e){e&&e.length&&o.setCenter(e[0].geometry.location)}):n.latitude&&n.longitude?o.setCenter(new google.maps.LatLng(n.latitude,n.longitude)):e.isArray(n.markers)&&n.markers.length>0?n.markers[0].address?a.geocode({address:n.markers[0].address},function(e){e&&e.length>0&&o.setCenter(e[0].geometry.location)}):o.setCenter(new google.maps.LatLng(n.markers[0].latitude,n.markers[0].longitude)):o.setCenter(new google.maps.LatLng(34.885931,9.84375)),o.setZoom(n.zoom),o.setMapTypeId(google.maps.MapTypeId[n.maptype]);var s={scrollwheel:n.scrollwheel,disableDoubleClickZoom:!n.doubleclickzoom};n.controls===!1?e.extend(s,{disableDefaultUI:!0}):0!==n.controls.length&&e.extend(s,n.controls,{disableDefaultUI:!0}),o.setOptions(s),o.setOptions({styles:n.styles});var t,r,i=new google.maps.Marker;t=new google.maps.MarkerImage(n.icon.image),t.size=new google.maps.Size(n.icon.iconsize[0],n.icon.iconsize[1]),t.anchor=new google.maps.Point(n.icon.iconanchor[0],n.icon.iconanchor[1]),i.setIcon(t),n.icon.shadow&&(r=new google.maps.MarkerImage(n.icon.shadow),r.size=new google.maps.Size(n.icon.shadowsize[0],n.icon.shadowsize[1]),r.anchor=new google.maps.Point(n.icon.shadowanchor[0],n.icon.shadowanchor[1]),i.setShadow(r)),e(this).bind("gMap.centerAt",function(e,a,n,s){s&&o.setZoom(s),o.panTo(new google.maps.LatLng(parseFloat(a),parseFloat(n)))});var g=[];e(this).bind("gMap.clearMarkers",function(){for(;g[0];)g.pop().setMap(null)});var l;e(this).bind("gMap.addMarker",function(e,a,s,t,r,d){var c,p,m=new google.maps.LatLng(parseFloat(a),parseFloat(s)),h=new google.maps.Marker({position:m});if(r?(c=new google.maps.MarkerImage(r.image),c.size=new google.maps.Size(r.iconsize[0],r.iconsize[1]),c.anchor=new google.maps.Point(r.iconanchor[0],r.iconanchor[1]),h.setIcon(c),r.shadow&&(p=new google.maps.MarkerImage(r.shadow),p.size=new google.maps.Size(r.shadowsize[0],r.shadowsize[1]),p.anchor=new google.maps.Point(r.shadowanchor[0],r.shadowanchor[1]),i.setShadow(p))):(h.setIcon(i.getIcon()),h.setShadow(i.getShadow())),t){"_latlng"===t&&(t=a+", "+s);var w=new google.maps.InfoWindow({content:n.html_prepend+t+n.html_append});google.maps.event.addListener(h,"click",function(){l&&l.close(),w.open(o,h),l=w}),d&&google.maps.event.addListenerOnce(o,"tilesloaded",function(){w.open(o,h)})}h.setMap(o),g.push(h)});for(var d,c=this,p=function(o){return function(a){a&&a.length>0&&e(c).trigger("gMap.addMarker",[a[0].geometry.location.lat(),a[0].geometry.location.lng(),o.html,o.icon,o.popup])}},m=0;m<n.markers.length;m++)d=n.markers[m],d.address?("_address"===d.html&&(d.html=d.address),a.geocode({address:d.address},p(d))):e(this).trigger("gMap.addMarker",[d.latitude,d.longitude,d.html,d.icon,d.popup])})},e.fn.gMap.defaults={address:"",latitude:0,longitude:0,zoom:1,markers:[],controls:[],styles:[],scrollwheel:!1,doubleclickzoom:!0,maptype:"ROADMAP",html_prepend:'<div class="gmap_marker">',html_append:"</div>",icon:{image:"http://www.google.com/mapfiles/marker.png",shadow:"http://www.google.com/mapfiles/shadow50.png",iconsize:[20,34],shadowsize:[37,34],iconanchor:[9,34],shadowanchor:[6,34]}}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJqcXVlcnkuZ21hcC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIGpRdWVyeSBnTWFwIC0gR29vZ2xlIE1hcHMgQVBJIFYzXG4gKlxuICogQGxpY2Vuc2UgTUlUIExpY2Vuc2U7IGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gKiBAdXJsICAgaHR0cDovL2dpdGh1Yi5jb20vbWFyaW9lc3RyYWRhL2pRdWVyeS1nTWFwXG4gKiBAYXV0aG9yICBNYXJpbyBFc3RyYWRhIDxtZUBtYXJpby5lYz4gYmFzZWQgb24gb3JpZ2luYWwgcGx1Z2luIGJ5IENlZHJpYyBLYXN0bmVyIDxjZWRyaWNAbnVyLXRleHQuZGU+XG4gKiBAdmVyc2lvbiAyLjJcbiAqL1xuLyogZ2xvYmFsIGdvb2dsZSAqL1xuIWZ1bmN0aW9uKGUpe2UuZm4uZ01hcD1mdW5jdGlvbihvLGEpe3N3aXRjaChvKXtjYXNlXCJhZGRNYXJrZXJcIjpyZXR1cm4gZSh0aGlzKS50cmlnZ2VyKFwiZ01hcC5hZGRNYXJrZXJcIixbYS5sYXRpdHVkZSxhLmxvbmdpdHVkZSxhLmNvbnRlbnQsYS5pY29uLGEucG9wdXBdKTtjYXNlXCJjZW50ZXJBdFwiOnJldHVybiBlKHRoaXMpLnRyaWdnZXIoXCJnTWFwLmNlbnRlckF0XCIsW2EubGF0aXR1ZGUsYS5sb25naXR1ZGUsYS56b29tXSk7Y2FzZVwiY2xlYXJNYXJrZXJzXCI6cmV0dXJuIGUodGhpcykudHJpZ2dlcihcImdNYXAuY2xlYXJNYXJrZXJzXCIpfXZhciBuPWUuZXh0ZW5kKHt9LGUuZm4uZ01hcC5kZWZhdWx0cyxvKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIG89bmV3IGdvb2dsZS5tYXBzLk1hcCh0aGlzKTtlKHRoaXMpLmRhdGEoXCJnTWFwLnJlZmVyZW5jZVwiLG8pO3ZhciBhPW5ldyBnb29nbGUubWFwcy5HZW9jb2RlcjtuLmFkZHJlc3M/YS5nZW9jb2RlKHthZGRyZXNzOm4uYWRkcmVzc30sZnVuY3Rpb24oZSl7ZSYmZS5sZW5ndGgmJm8uc2V0Q2VudGVyKGVbMF0uZ2VvbWV0cnkubG9jYXRpb24pfSk6bi5sYXRpdHVkZSYmbi5sb25naXR1ZGU/by5zZXRDZW50ZXIobmV3IGdvb2dsZS5tYXBzLkxhdExuZyhuLmxhdGl0dWRlLG4ubG9uZ2l0dWRlKSk6ZS5pc0FycmF5KG4ubWFya2VycykmJm4ubWFya2Vycy5sZW5ndGg+MD9uLm1hcmtlcnNbMF0uYWRkcmVzcz9hLmdlb2NvZGUoe2FkZHJlc3M6bi5tYXJrZXJzWzBdLmFkZHJlc3N9LGZ1bmN0aW9uKGUpe2UmJmUubGVuZ3RoPjAmJm8uc2V0Q2VudGVyKGVbMF0uZ2VvbWV0cnkubG9jYXRpb24pfSk6by5zZXRDZW50ZXIobmV3IGdvb2dsZS5tYXBzLkxhdExuZyhuLm1hcmtlcnNbMF0ubGF0aXR1ZGUsbi5tYXJrZXJzWzBdLmxvbmdpdHVkZSkpOm8uc2V0Q2VudGVyKG5ldyBnb29nbGUubWFwcy5MYXRMbmcoMzQuODg1OTMxLDkuODQzNzUpKSxvLnNldFpvb20obi56b29tKSxvLnNldE1hcFR5cGVJZChnb29nbGUubWFwcy5NYXBUeXBlSWRbbi5tYXB0eXBlXSk7dmFyIHM9e3Njcm9sbHdoZWVsOm4uc2Nyb2xsd2hlZWwsZGlzYWJsZURvdWJsZUNsaWNrWm9vbTohbi5kb3VibGVjbGlja3pvb219O24uY29udHJvbHM9PT0hMT9lLmV4dGVuZChzLHtkaXNhYmxlRGVmYXVsdFVJOiEwfSk6MCE9PW4uY29udHJvbHMubGVuZ3RoJiZlLmV4dGVuZChzLG4uY29udHJvbHMse2Rpc2FibGVEZWZhdWx0VUk6ITB9KSxvLnNldE9wdGlvbnMocyksby5zZXRPcHRpb25zKHtzdHlsZXM6bi5zdHlsZXN9KTt2YXIgdCxyLGk9bmV3IGdvb2dsZS5tYXBzLk1hcmtlcjt0PW5ldyBnb29nbGUubWFwcy5NYXJrZXJJbWFnZShuLmljb24uaW1hZ2UpLHQuc2l6ZT1uZXcgZ29vZ2xlLm1hcHMuU2l6ZShuLmljb24uaWNvbnNpemVbMF0sbi5pY29uLmljb25zaXplWzFdKSx0LmFuY2hvcj1uZXcgZ29vZ2xlLm1hcHMuUG9pbnQobi5pY29uLmljb25hbmNob3JbMF0sbi5pY29uLmljb25hbmNob3JbMV0pLGkuc2V0SWNvbih0KSxuLmljb24uc2hhZG93JiYocj1uZXcgZ29vZ2xlLm1hcHMuTWFya2VySW1hZ2Uobi5pY29uLnNoYWRvdyksci5zaXplPW5ldyBnb29nbGUubWFwcy5TaXplKG4uaWNvbi5zaGFkb3dzaXplWzBdLG4uaWNvbi5zaGFkb3dzaXplWzFdKSxyLmFuY2hvcj1uZXcgZ29vZ2xlLm1hcHMuUG9pbnQobi5pY29uLnNoYWRvd2FuY2hvclswXSxuLmljb24uc2hhZG93YW5jaG9yWzFdKSxpLnNldFNoYWRvdyhyKSksZSh0aGlzKS5iaW5kKFwiZ01hcC5jZW50ZXJBdFwiLGZ1bmN0aW9uKGUsYSxuLHMpe3MmJm8uc2V0Wm9vbShzKSxvLnBhblRvKG5ldyBnb29nbGUubWFwcy5MYXRMbmcocGFyc2VGbG9hdChhKSxwYXJzZUZsb2F0KG4pKSl9KTt2YXIgZz1bXTtlKHRoaXMpLmJpbmQoXCJnTWFwLmNsZWFyTWFya2Vyc1wiLGZ1bmN0aW9uKCl7Zm9yKDtnWzBdOylnLnBvcCgpLnNldE1hcChudWxsKX0pO3ZhciBsO2UodGhpcykuYmluZChcImdNYXAuYWRkTWFya2VyXCIsZnVuY3Rpb24oZSxhLHMsdCxyLGQpe3ZhciBjLHAsbT1uZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKHBhcnNlRmxvYXQoYSkscGFyc2VGbG9hdChzKSksaD1uZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtwb3NpdGlvbjptfSk7aWYocj8oYz1uZXcgZ29vZ2xlLm1hcHMuTWFya2VySW1hZ2Uoci5pbWFnZSksYy5zaXplPW5ldyBnb29nbGUubWFwcy5TaXplKHIuaWNvbnNpemVbMF0sci5pY29uc2l6ZVsxXSksYy5hbmNob3I9bmV3IGdvb2dsZS5tYXBzLlBvaW50KHIuaWNvbmFuY2hvclswXSxyLmljb25hbmNob3JbMV0pLGguc2V0SWNvbihjKSxyLnNoYWRvdyYmKHA9bmV3IGdvb2dsZS5tYXBzLk1hcmtlckltYWdlKHIuc2hhZG93KSxwLnNpemU9bmV3IGdvb2dsZS5tYXBzLlNpemUoci5zaGFkb3dzaXplWzBdLHIuc2hhZG93c2l6ZVsxXSkscC5hbmNob3I9bmV3IGdvb2dsZS5tYXBzLlBvaW50KHIuc2hhZG93YW5jaG9yWzBdLHIuc2hhZG93YW5jaG9yWzFdKSxpLnNldFNoYWRvdyhwKSkpOihoLnNldEljb24oaS5nZXRJY29uKCkpLGguc2V0U2hhZG93KGkuZ2V0U2hhZG93KCkpKSx0KXtcIl9sYXRsbmdcIj09PXQmJih0PWErXCIsIFwiK3MpO3ZhciB3PW5ldyBnb29nbGUubWFwcy5JbmZvV2luZG93KHtjb250ZW50Om4uaHRtbF9wcmVwZW5kK3Qrbi5odG1sX2FwcGVuZH0pO2dvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGgsXCJjbGlja1wiLGZ1bmN0aW9uKCl7bCYmbC5jbG9zZSgpLHcub3BlbihvLGgpLGw9d30pLGQmJmdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyT25jZShvLFwidGlsZXNsb2FkZWRcIixmdW5jdGlvbigpe3cub3BlbihvLGgpfSl9aC5zZXRNYXAobyksZy5wdXNoKGgpfSk7Zm9yKHZhciBkLGM9dGhpcyxwPWZ1bmN0aW9uKG8pe3JldHVybiBmdW5jdGlvbihhKXthJiZhLmxlbmd0aD4wJiZlKGMpLnRyaWdnZXIoXCJnTWFwLmFkZE1hcmtlclwiLFthWzBdLmdlb21ldHJ5LmxvY2F0aW9uLmxhdCgpLGFbMF0uZ2VvbWV0cnkubG9jYXRpb24ubG5nKCksby5odG1sLG8uaWNvbixvLnBvcHVwXSl9fSxtPTA7bTxuLm1hcmtlcnMubGVuZ3RoO20rKylkPW4ubWFya2Vyc1ttXSxkLmFkZHJlc3M/KFwiX2FkZHJlc3NcIj09PWQuaHRtbCYmKGQuaHRtbD1kLmFkZHJlc3MpLGEuZ2VvY29kZSh7YWRkcmVzczpkLmFkZHJlc3N9LHAoZCkpKTplKHRoaXMpLnRyaWdnZXIoXCJnTWFwLmFkZE1hcmtlclwiLFtkLmxhdGl0dWRlLGQubG9uZ2l0dWRlLGQuaHRtbCxkLmljb24sZC5wb3B1cF0pfSl9LGUuZm4uZ01hcC5kZWZhdWx0cz17YWRkcmVzczpcIlwiLGxhdGl0dWRlOjAsbG9uZ2l0dWRlOjAsem9vbToxLG1hcmtlcnM6W10sY29udHJvbHM6W10sc3R5bGVzOltdLHNjcm9sbHdoZWVsOiExLGRvdWJsZWNsaWNrem9vbTohMCxtYXB0eXBlOlwiUk9BRE1BUFwiLGh0bWxfcHJlcGVuZDonPGRpdiBjbGFzcz1cImdtYXBfbWFya2VyXCI+JyxodG1sX2FwcGVuZDpcIjwvZGl2PlwiLGljb246e2ltYWdlOlwiaHR0cDovL3d3dy5nb29nbGUuY29tL21hcGZpbGVzL21hcmtlci5wbmdcIixzaGFkb3c6XCJodHRwOi8vd3d3Lmdvb2dsZS5jb20vbWFwZmlsZXMvc2hhZG93NTAucG5nXCIsaWNvbnNpemU6WzIwLDM0XSxzaGFkb3dzaXplOlszNywzNF0saWNvbmFuY2hvcjpbOSwzNF0sc2hhZG93YW5jaG9yOls2LDM0XX19fShqUXVlcnkpOyJdLCJmaWxlIjoianF1ZXJ5LmdtYXAuanMifQ==
